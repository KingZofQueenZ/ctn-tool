<mz-parallax [height]="400" class="hide-on-med-and-down">
  <div class="parralax section no-pad-bot">
    <div class="container">
      <h1 class="header center teal-text">Details</h1>
      <div class="row center">
        <h5 class="header white-text col s12 light">&laquo;Nothing great comes without sacrifice.&raquo;</h5>
      </div>
    </div>
  </div>
  <img src="../../../assets/img/crossfit-index-detail.jpg" alt="Unsplashed background img 1">
</mz-parallax>

<!-- Event Cards -->
<div class="container details" *ngIf="event">
  <div class="row">
    <div class="col s12 l10">
        <h3 class="header detail-title teal-text center-on-mobile">{{event.name}}</h3>
        <h5 class="header light detail-subtitle grey-text light center-on-mobile"><i>{{date_string}}</i></h5>
    </div>
    <div class="col s12 l2 valign-wrapper right-align button-anmeldung" *ngIf="user">
        <div *ngIf="is_registered; then registered; else notregistered"></div>
            
        <ng-template #notregistered>
            <a class="waves-effect waves-light btn center" (click)="handleRegistration()">Anmelden</a>
        </ng-template>
        <ng-template #registered>
            <a class="waves-effect waves-light btn center red" (click)="handleRegistration()">Abmelden</a>
        </ng-template>
    </div>

    <div class="col s12 details">
      <h5 class="light">Details</h5>  
      <div class="flow-text">{{event.description}}</div>
    </div>

    <div class="col s12 anmeldungen flow-text" *ngIf="user">
      <h5 class="light">Anmeldungen</h5> 
      <ul class="collection" >
        <li class="collection-item avatar valign-wrapper" *ngFor="let participant of event.participant_ids">
          <img src="../../../assets/img/user.png" height="42" width="42" alt="" class="circle">
          <p>{{participant.firstname}} {{participant.lastname}}</p>
        </li>
      </ul>
    </div>

    <form class="col s12 probetraining" *ngIf="!user">
      <h5 class="light">Anmeldung zum Probetraining</h5> 
        <div class="row">
          <div class="col s12 flow-text">
            Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore 
            magna aliquyam erat, sed diam voluptua.
          </div>
          <div class="input-field col s12 l4">
            <input id="last_name" type="text" class="validate">
            <label class="light" for="last_name">Vorname</label>
          </div>
          <div class="input-field col s12 l4">
            <input id="last_name" type="text" class="validate">
            <label class="light" for="last_name">Nachname</label>
          </div>
          <div class="input-field col s12 l4">
            <input id="last_name" type="text" class="validate">
            <label class="light" for="last_name">Telefonnummer</label>
          </div>
          <div class="col s12 center-on-mobile">
            <a class="waves-effect waves-light btn">Zum Probetraining anmelden</a>
          </div>
        </div>
      </form>
  </div>
</div>

<div class="container spinner" *ngIf="!event">
  <div class="row center">
    <mz-spinner
      [size]="'big'">
    </mz-spinner>
  </div>
</div>